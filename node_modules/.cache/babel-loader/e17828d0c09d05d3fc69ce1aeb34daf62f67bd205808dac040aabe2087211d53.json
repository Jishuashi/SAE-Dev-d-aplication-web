{"ast":null,"code":"import _slicedToArray from\"/root/sae3-01-dev-d-apli/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'../styles/App.css';import Layout from\"./Layout\";import Home from\"../pages/Home\";import{Routes,Route,Router,HashRouter}from\"react-router-dom\";import React,{useState,useEffect}from\"react\";import Login from\"../pages/Login\";import Sign from\"../pages/Sign\";import{useCookies}from\"react-cookie\";import Domains from\"../pages/domains\";import Modules from\"../pages/domains/modules/modules\";import ModuleCrypto from\"../pages/domains/modules/Securite/module_crypto\";import ModuleProba from\"../pages/domains/modules/Maths/module_proba\";import NotAllowed from\"../pages/NotAllowed\";import Profile from\"../pages/Profile\";import ChangePass from\"../pages/ChangePass\";import Stats from\"../pages/Stats\";import{redirect}from\"react-router\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),logged=_useState2[0],setLogged=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),unconnected=_useState4[0],setUnconnected=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];// eslint-disable-next-line no-unused-vars\nvar _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),rank=_useState8[0],setRank=_useState8[1];var _useCookies=useCookies(['log']),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var setLogCookie=function setLogCookie(value,pUser,pRank){setCookie('log',value,{path:'/'});setCookie('logUser',pUser,{path:'/'});setCookie('logRank',pRank,{path:'/'});};var getLogCookies=function getLogCookies(){if(cookies.log){setLogged(cookies.log);if(cookies.logUser!==undefined){setUser(cookies.logUser);}if(cookies.logRank!==undefined){setRank(cookies.logRank);}}};var removeLogCookies=function removeLogCookies(){removeCookie('log');removeCookie('logUser');removeCookie('logRank');setLogged(false);};if(logged&&cookies.log!=='true'){setLogCookie(true,user,rank);}if(unconnected){removeLogCookies();setUnconnected(false);}useEffect(function(){if(cookies.log==='true'){setLogged(true);}if(logged&&cookies.log==='true'){getLogCookies();}});return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(HashRouter,{children:/*#__PURE__*/_jsx(Routes,{history:Router.history,children:/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Layout,{logged:logged,setLogged:setLogged,unconnected:unconnected,setUnconnected:setUnconnected,rank:rank}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Home,{logged:logged,user:user})}),/*#__PURE__*/_jsx(Route,{path:\"connexion\",element:/*#__PURE__*/_jsx(Login,{logged:logged,setLogged:setLogged,user:user,setUser:setUser,rank:rank,setRank:setRank,getLogCookies:getLogCookies})}),/*#__PURE__*/_jsx(Route,{path:\"inscription\",element:/*#__PURE__*/_jsx(Sign,{})}),/*#__PURE__*/_jsx(Route,{path:\"domains\",element:/*#__PURE__*/_jsx(Domains,{logged:logged})}),/*#__PURE__*/_jsx(Route,{path:\"domains/modules/\",element:/*#__PURE__*/_jsx(Modules,{logged:logged,user:user})}),/*#__PURE__*/_jsx(Route,{path:\"domains/modules/module_proba\",element:/*#__PURE__*/_jsx(ModuleProba,{logged:logged})}),/*#__PURE__*/_jsx(Route,{path:\"domains/modules/module_crypto\",element:/*#__PURE__*/_jsx(ModuleCrypto,{logged:logged})}),/*#__PURE__*/_jsx(Route,{path:\"notAllowed\",element:/*#__PURE__*/_jsx(NotAllowed,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(Profile,{rank:rank,user:user,logged:logged})}),/*#__PURE__*/_jsx(Route,{path:\"changepass\",element:/*#__PURE__*/_jsx(ChangePass,{})}),/*#__PURE__*/_jsx(Route,{path:\"stats\",element:/*#__PURE__*/_jsx(Stats,{})})]})})})});}export default App;","map":{"version":3,"names":["Layout","Home","Routes","Route","Router","HashRouter","React","useState","useEffect","Login","Sign","useCookies","Domains","Modules","ModuleCrypto","ModuleProba","NotAllowed","Profile","ChangePass","Stats","redirect","App","logged","setLogged","unconnected","setUnconnected","user","setUser","rank","setRank","cookies","setCookie","removeCookie","setLogCookie","value","pUser","pRank","path","getLogCookies","log","logUser","undefined","logRank","removeLogCookies","history"],"sources":["/root/sae3-01-dev-d-apli/src/components/App.js"],"sourcesContent":["import '../styles/App.css';\nimport Layout from \"./Layout\";\nimport Home from \"../pages/Home\";\nimport {Routes, Route, Router, HashRouter} from \"react-router-dom\";\nimport React, {useState, useEffect} from \"react\";\nimport Login from \"../pages/Login\";\nimport Sign from \"../pages/Sign\";\nimport {useCookies} from \"react-cookie\";\nimport Domains from \"../pages/domains\";\nimport Modules from \"../pages/domains/modules/modules\";\nimport ModuleCrypto from \"../pages/domains/modules/Securite/module_crypto\";\nimport ModuleProba from \"../pages/domains/modules/Maths/module_proba\";\nimport NotAllowed from \"../pages/NotAllowed\";\nimport Profile from \"../pages/Profile\";\nimport ChangePass from \"../pages/ChangePass\";\nimport Stats from \"../pages/Stats\";\nimport {redirect} from \"react-router\";\n\n\nfunction App() {\n    const [logged, setLogged] = useState(false);\n    const [unconnected, setUnconnected] = useState(false);\n    const [user, setUser] = useState(\"\");\n    // eslint-disable-next-line no-unused-vars\n    const [rank, setRank] = useState(\"\");\n    const [cookies, setCookie, removeCookie] = useCookies(['log']);\n    const setLogCookie = (value, pUser, pRank) => {\n        setCookie('log', value, { path: '/' });\n        setCookie('logUser', pUser, { path: '/' });\n        setCookie('logRank', pRank, { path: '/' });\n    }\n\n\n\n    const getLogCookies = () => {\n        if(cookies.log){\n            setLogged(cookies.log);\n\n            if(cookies.logUser !== undefined){\n                setUser(cookies.logUser);\n            }\n\n            if(cookies.logRank !== undefined){\n                setRank(cookies.logRank);\n            }\n        }\n    }\n\n    const removeLogCookies = () => {\n        removeCookie('log', );\n        removeCookie('logUser' );\n        removeCookie('logRank');\n        setLogged(false);\n    }\n\n    if (logged && cookies.log !== 'true'){\n        setLogCookie(true, user, rank);\n    }\n\n    if(unconnected){\n        removeLogCookies();\n        setUnconnected(false);\n    }\n\n    useEffect(() => {\n        if (cookies.log === 'true'){\n            setLogged(true);\n        }\n\n        if (logged && cookies.log === 'true'){\n            getLogCookies();\n        }\n    })\n\n\n    return (\n        <div className=\"App\">\n            <HashRouter>\n                <Routes history={Router.history}>\n                    <Route path=\"/\" element={<Layout logged={logged} setLogged={setLogged} unconnected={unconnected} setUnconnected={setUnconnected} rank={rank}/>}>\n                        <Route index element={<Home logged={logged} user={user}/>} />\n                        <Route path=\"connexion\" element={<Login logged={logged} setLogged={setLogged} user= {user} setUser={setUser} rank={rank} setRank={setRank} getLogCookies={getLogCookies}/>} />\n                        <Route path=\"inscription\" element={<Sign />} />\n                        <Route path=\"domains\" element={<Domains logged={logged}/>} />\n                        <Route path=\"domains/modules/\" element={<Modules logged={logged} user={user} />} />\n                        <Route path=\"domains/modules/module_proba\" element={<ModuleProba logged={logged} />} />\n                        <Route path=\"domains/modules/module_crypto\" element={<ModuleCrypto  logged={logged} />} />\n                        <Route path=\"notAllowed\" element={<NotAllowed />} />\n                        <Route path=\"profile\" element={<Profile rank={rank} user={user} logged={logged}/> }/>\n                        <Route path=\"changepass\" element={<ChangePass /> }/>\n                        <Route path=\"stats\" element={<Stats />} />\n                    </Route>\n                </Routes>\n            </HashRouter>\n        </div>\n    );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}