{"ast":null,"code":"import _slicedToArray from\"/root/sae3-01-dev-d-apli/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import'../styles/domains.css';import axios from\"axios\";import{createSearchParams,useNavigate}from\"react-router-dom\";import domain from\"../assets/domain.png\";import $ from\"jquery\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Domains(_ref){var logged=_ref.logged;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//useffect is used to the json parsed data from the middleware Node.js server\n$.ajax({type:\"GET\",url:'https://192.168.1.161:3001/domains',success:function success(data){setData(data);}});var notAllowed=function notAllowed(){return navigate(\"/notAllowed\");};var navigate=useNavigate();if(logged){if(data.domains!==undefined){var divDomains=[];var _loop=function _loop(i){var goToModulesDomain=function goToModulesDomain(domain){navigate({pathname:\"/domains/modules\",search:createSearchParams({domain:data.domains[i].name}).toString()});};divDomains.push(/*#__PURE__*/_jsxs(\"div\",{className:\"domain\",onClick:goToModulesDomain,children:[/*#__PURE__*/_jsx(\"div\",{className:\"nameD\",style:{backgroundImage:\"url(\".concat(domain,\")\")},children:/*#__PURE__*/_jsx(\"p\",{className:\"nameD\",children:data.domains[i].name})}),/*#__PURE__*/_jsx(\"div\",{className:\"descriptionD\",children:/*#__PURE__*/_jsx(\"p\",{className:\"descriptionD\",children:data.domains[i].description})})]},i));};for(var i=0;i<data.domains.length;i++){_loop(i);}return/*#__PURE__*/_jsxs(\"div\",{className:\"domainsDiv\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"domainText\",children:\"Voici la liste des domaines existants:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"domains\",children:divDomains})]});}else return/*#__PURE__*/_jsx(\"p\",{className:\"loading\",children:\"Loading...\"});}else{return/*#__PURE__*/_jsx(_Fragment,{children:notAllowed()});}}export default Domains;","map":{"version":3,"names":["React","useState","useEffect","axios","createSearchParams","useNavigate","domain","$","Domains","logged","data","setData","ajax","type","url","success","notAllowed","navigate","domains","undefined","divDomains","goToModulesDomain","pathname","search","i","name","toString","push","backgroundImage","description","length"],"sources":["/root/sae3-01-dev-d-apli/src/pages/domains.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport '../styles/domains.css';\nimport axios from \"axios\";\nimport {createSearchParams, useNavigate} from \"react-router-dom\";\nimport domain from \"../assets/domain.png\";\nimport $ from \"jquery\";\n\nfunction Domains({logged}) {\n    const [data, setData] = useState([]);\n\n    //useffect is used to the json parsed data from the middleware Node.js server\n        $.ajax({\n\t    type: \"GET\",\n\t    url: 'https://192.168.1.161:3001/domains',\n\t    success(data){\n\t\tsetData(data);\n\t    }\n\t});\n\n    const notAllowed = () => {\n        return navigate(\"/notAllowed\");\n    }\n\n    const navigate = useNavigate();\n\n    if (logged) {\n        if (data.domains !== undefined) {\n            let divDomains = [];\n            for (let i = 0; i < data.domains.length; i++) {\n\n                const goToModulesDomain = (domain) => {\n                    navigate({\n                        pathname: \"/domains/modules\",\n                        search: createSearchParams({\n                            domain: data.domains[i].name\n                        }).toString()\n                    })\n                }\n\n                divDomains.push(\n                    <div className={\"domain\"} onClick={goToModulesDomain} key={i}>\n                        <div className={\"nameD\"} style={{backgroundImage: `url(${domain})`}}>\n                            <p className={\"nameD\"}>{data.domains[i].name}</p>\n                        </div>\n                        <div className={\"descriptionD\"}>\n                            <p className={\"descriptionD\"}>{data.domains[i].description}</p>\n                        </div>\n                    </div>)\n            }\n            return (\n                <div className=\"domainsDiv\">\n                    <h1 className={\"domainText\"}>Voici la liste des domaines existants:</h1>\n                    <div className=\"domains\">\n                        {divDomains}\n                    </div>\n                </div>\n            );\n        } else return <p className={\"loading\"}>Loading...</p>\n    } else {\n        return <>{notAllowed()}</>;\n    }\n}\n\nexport default Domains;\n"],"mappings":"8GAAA,MAAOA,MAAK,EAAGC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAChD,MAAO,uBAAuB,CAC9B,MAAOC,MAAK,KAAM,OAAO,CACzB,OAAQC,kBAAkB,CAAEC,WAAW,KAAO,kBAAkB,CAChE,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,EAAC,KAAM,QAAQ,CAAC,6IAEvB,QAASC,QAAO,MAAW,IAATC,OAAM,MAANA,MAAM,CACpB,cAAwBR,QAAQ,CAAC,EAAE,CAAC,wCAA7BS,IAAI,eAAEC,OAAO,eAEpB;AACIJ,CAAC,CAACK,IAAI,CAAC,CACVC,IAAI,CAAE,KAAK,CACXC,GAAG,CAAE,oCAAoC,CACzCC,OAAO,kBAACL,IAAI,CAAC,CAChBC,OAAO,CAACD,IAAI,CAAC,CACV,CACJ,CAAC,CAAC,CAEC,GAAMM,WAAU,CAAG,QAAbA,WAAU,EAAS,CACrB,MAAOC,SAAQ,CAAC,aAAa,CAAC,CAClC,CAAC,CAED,GAAMA,SAAQ,CAAGZ,WAAW,EAAE,CAE9B,GAAII,MAAM,CAAE,CACR,GAAIC,IAAI,CAACQ,OAAO,GAAKC,SAAS,CAAE,CAC5B,GAAIC,WAAU,CAAG,EAAE,CAAC,2BAC0B,CAE1C,GAAMC,kBAAiB,CAAG,QAApBA,kBAAiB,CAAIf,MAAM,CAAK,CAClCW,QAAQ,CAAC,CACLK,QAAQ,CAAE,kBAAkB,CAC5BC,MAAM,CAAEnB,kBAAkB,CAAC,CACvBE,MAAM,CAAEI,IAAI,CAACQ,OAAO,CAACM,CAAC,CAAC,CAACC,IAC5B,CAAC,CAAC,CAACC,QAAQ,EACf,CAAC,CAAC,CACN,CAAC,CAEDN,UAAU,CAACO,IAAI,cACX,aAAK,SAAS,CAAE,QAAS,CAAC,OAAO,CAAEN,iBAAkB,wBACjD,YAAK,SAAS,CAAE,OAAQ,CAAC,KAAK,CAAE,CAACO,eAAe,eAAStB,MAAM,KAAG,CAAE,uBAChE,UAAG,SAAS,CAAE,OAAQ,UAAEI,IAAI,CAACQ,OAAO,CAACM,CAAC,CAAC,CAACC,IAAI,EAAK,EAC/C,cACN,YAAK,SAAS,CAAE,cAAe,uBAC3B,UAAG,SAAS,CAAE,cAAe,UAAEf,IAAI,CAACQ,OAAO,CAACM,CAAC,CAAC,CAACK,WAAW,EAAK,EAC7D,GANiDL,CAAC,CAOtD,CAAC,CACf,CAAC,CApBD,IAAK,GAAIA,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGd,IAAI,CAACQ,OAAO,CAACY,MAAM,CAAEN,CAAC,EAAE,YAqB5C,mBACI,aAAK,SAAS,CAAC,YAAY,wBACvB,WAAI,SAAS,CAAE,YAAa,UAAC,wCAAsC,EAAK,cACxE,YAAK,SAAS,CAAC,SAAS,UACnBJ,UAAU,EACT,GACJ,CAEd,CAAC,IAAM,oBAAO,UAAG,SAAS,CAAE,SAAU,UAAC,YAAU,EAAI,CACzD,CAAC,IAAM,CACH,mBAAO,yBAAGJ,UAAU,EAAE,EAAI,CAC9B,CACJ,CAEA,cAAeR,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}