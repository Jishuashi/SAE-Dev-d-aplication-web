{"ast":null,"code":"import _slicedToArray from\"/root/sae3-01-dev-d-apli/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"../styles/stats.css\";import $ from\"jquery\";import{get}from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Stats(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),stat=_useState4[0],setStat=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nbUser=_useState6[0],setNbUser=_useState6[1];var data={labels:[\"Red\",\"Blue\",\"Yellow\",\"Green\",\"Purple\",\"Orange\"],datasets:[{label:\"# of Votes\",data:[12,19,3,5,2,3]}]};var getLog=function getLog(){$.ajax({type:\"POST\",url:\"https://192.168.1.161:443/php/getLog.php\",success:function success(data){setResult(data);}});var lRetrun=[];var lArrayResult=result.split(\" \");var n=0;while(n!=3){for(var e=0;e<lArrayResult.length;e++){if(lArrayResult[e]===\"\"){lArrayResult.splice(e,1);}}n++;}var lCurrCollHead=[];var lCurrLineHead=[];for(var i=0;i<4;i++){lCurrLineHead.push(/*#__PURE__*/_jsx(\"td\",{children:lArrayResult[i]},i^2));}lCurrCollHead.push(/*#__PURE__*/_jsx(\"tr\",{children:lCurrLineHead},0));var lCurrCollBody=[];for(var _i=4;_i<lArrayResult.length;_i+=4){var lCurrLine=[];var lCollIndex=_i;if(_i%4===0){lCollIndex=4;}lCurrLine.push(/*#__PURE__*/_jsx(\"td\",{children:lArrayResult[_i]},_i^2),/*#__PURE__*/_jsx(\"td\",{children:lArrayResult[_i+1]},_i+1^2),/*#__PURE__*/_jsx(\"td\",{children:lArrayResult[_i+2]},_i+2^2),/*#__PURE__*/_jsx(\"td\",{children:lArrayResult[_i+3]},_i+3^2));lCurrCollBody.push(/*#__PURE__*/_jsx(\"tr\",{className:\"coll_\".concat(_i),children:lCurrLine},_i^2));}lRetrun.push(/*#__PURE__*/_jsx(\"thead\",{children:lCurrCollHead},599^2),/*#__PURE__*/_jsx(\"tbody\",{children:lCurrCollBody},498^5));return lRetrun;};var getStatModule=function getStatModule(module){$.ajax({type:\"POST\",url:\"https://192.168.1.161:443/php/getLog.php\",success:function success(data){setStat(data);}});var lArrayResult=stat.split(\" \");var n=0;while(n!=3){for(var e=0;e<lArrayResult.length;e++){if(lArrayResult[e]===\"\"){lArrayResult.splice(e,1);}}n++;}var count=0;for(var i=0;i<lArrayResult.length;i++){if(lArrayResult[i]===module){count++;}}return/*#__PURE__*/_jsx(\"td\",{children:count});};var getNbUser=function getNbUser(){$.ajax({type:\"POST\",url:\"https://192.168.1.161:443/php/getNbUser.php\",success:function success(data){setNbUser(data);}});return nbUser;};return/*#__PURE__*/_jsxs(\"div\",{className:'statsDiv',children:[/*#__PURE__*/_jsxs(\"div\",{className:'LogDiv',children:[/*#__PURE__*/_jsx(\"h1\",{className:'titleStat',children:\"Stats\"}),/*#__PURE__*/_jsx(\"table\",{children:getLog()})]}),/*#__PURE__*/_jsx(\"div\",{className:'StatDivModule',children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"thead\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Module\"}),/*#__PURE__*/_jsx(\"td\",{children:\"Nombre d'utilisation\"})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Probabilit\\xE9s\"}),getStatModule(\"Probabilités\")]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"Cryptographie\"}),getStatModule(\"Cryptographie\")]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:'StatDivUser',children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Nombre d'utilisateur Inscrit : \\xA0\\xA0\\xA0\\xA0 \",getNbUser()]})})]});}export default Stats;","map":{"version":3,"names":["React","useState","$","get","Stats","result","setResult","stat","setStat","nbUser","setNbUser","data","labels","datasets","label","getLog","ajax","type","url","success","lRetrun","lArrayResult","split","n","e","length","splice","lCurrCollHead","lCurrLineHead","i","push","lCurrCollBody","lCurrLine","lCollIndex","getStatModule","module","count","getNbUser"],"sources":["/root/sae3-01-dev-d-apli/src/pages/Stats.js"],"sourcesContent":["import React, {useState} from \"react\";\nimport \"../styles/stats.css\";\nimport $ from \"jquery\";\nimport {get} from \"axios\";\n\n\nfunction Stats() {\n    const [result, setResult] = useState(\"\");\n    const [stat, setStat] = useState(\"\");\n    const [nbUser, setNbUser] = useState(\"\");\n\n\n    const data = {\n        labels: [\"Red\", \"Blue\", \"Yellow\", \"Green\", \"Purple\", \"Orange\"],\n        datasets: [\n            {\n                label: \"# of Votes\",\n                data: [12, 19, 3, 5, 2, 3]\n            },\n        ]\n    }\n\n    const getLog = () => {\n        $.ajax({\n            type: \"POST\",\n            url: \"https://192.168.1.161:443/php/getLog.php\",\n            success(data) {\n                setResult(data);\n            },\n        });\n\n        let lRetrun = [];\n        const lArrayResult = result.split(\" \");\n\n        let n = 0;\n\n        while (n != 3) {\n            for (let e = 0; e < lArrayResult.length; e++) {\n                if (lArrayResult[e] === \"\") {\n                    lArrayResult.splice(e, 1);\n                }\n            }\n\n            n++;\n        }\n\n        let lCurrCollHead = [];\n        let lCurrLineHead = [];\n\n        for (let i = 0; i < 4; i++) {\n            lCurrLineHead.push(<td key={i ^ 2}>{lArrayResult[i]}</td>);\n\n        }\n\n        lCurrCollHead.push(\n            <tr key={0}>{lCurrLineHead}</tr>\n        );\n\n        let lCurrCollBody = [];\n\n        for (let i = 4; i < lArrayResult.length; i += 4) {\n            let lCurrLine = [];\n            let lCollIndex = i;\n\n            if (i % 4 === 0) {\n                lCollIndex = 4;\n            }\n\n            lCurrLine.push(<td key={i ^ 2}>{lArrayResult[i]}</td>,\n                <td key={i + 1 ^ 2}>{lArrayResult[i + 1]}</td>,\n                <td key={i + 2 ^ 2}>{lArrayResult[i + 2]}</td>,\n                <td key={i + 3 ^ 2}>{lArrayResult[i + 3]}</td>);\n\n            lCurrCollBody.push(\n                <tr key={i ^ 2} className={`coll_${i}`}>{lCurrLine}</tr>\n            );\n\n        }\n\n        lRetrun.push(<thead key={599^2}>{lCurrCollHead}</thead>, <tbody key={498^5}>{lCurrCollBody}</tbody>);\n\n        return lRetrun;\n    }\n\n    const getStatModule = (module) => {\n        $.ajax({\n            type: \"POST\",\n            url: \"https://192.168.1.161:443/php/getLog.php\",\n            success(data) {\n                setStat(data);\n            },\n        });\n\n        const lArrayResult = stat.split(\" \");\n\n        let n = 0;\n\n        while (n != 3) {\n            for (let e = 0; e < lArrayResult.length; e++) {\n                if (lArrayResult[e] === \"\") {\n                    lArrayResult.splice(e, 1);\n                }\n            }\n            n++;\n        }\n\n        let count = 0;\n\n        for (let i = 0; i < lArrayResult.length; i++) {\n            if (lArrayResult[i] === module) {\n                count++;\n            }\n        }\n\n        return(<td>{count}</td>)\n    }\n\n    const getNbUser = () => {\n        $.ajax({\n            type: \"POST\",\n            url: \"https://192.168.1.161:443/php/getNbUser.php\",\n            success(data) {\n                setNbUser(data);\n            },\n        });\n\n        return nbUser;\n    }\n\n    return (\n        <div className={'statsDiv'}>\n            <div className={'LogDiv'}>\n                <h1 className={'titleStat'}>Stats</h1>\n                <table>\n                    {getLog()}\n                </table>\n            </div>\n\n            <div className={'StatDivModule'}>\n                <table>\n                    <thead>\n                    <tr>\n                        <td>Module</td>\n                        <td>Nombre d'utilisation</td>\n                    </tr>\n                    <tr>\n                        <td>Probabilités</td>\n                        {getStatModule(\"Probabilités\")}\n                    </tr>\n                    <tr>\n                        <td>Cryptographie</td>\n                        {getStatModule(\"Cryptographie\")}\n                    </tr>\n                    </thead>\n                </table>\n            </div>\n\n            <div className={'StatDivUser'}>\n                <p>Nombre d'utilisateur Inscrit : &nbsp;&nbsp;&nbsp;&nbsp; {getNbUser()}</p>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Stats;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}